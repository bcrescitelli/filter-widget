<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Filter to Find Your Resource</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #fcfaf4;
      padding: 20px;
    }
    h2 {
      color: #0b66c2;
    }
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }
    .filter-btn {
      border: none;
      padding: 8px 12px;
      border-radius: 999px;
      cursor: pointer;
      font-size: 14px;
      background-color: #e8f3ff;
      color: #004184;
    }
    .filter-btn.active {
      font-weight: bold;
      outline: 2px solid #0b66c2;
    }
    .resource-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .resource-item {
      background: none;
      border: 1px solid #0b66c2;
      padding: 10px 14px;
      border-radius: 999px;
      font-size: 14px;
      text-decoration: none;
      color: #0b66c2;
      transition: background 0.2s;
    }
    .resource-item:hover {
      background: #e8f3ff;
    }
    .section-label {
      margin-top: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h2>Filter to Find Your Resource:</h2>

<div class="section-label">Role</div>
<div class="filters" id="role-filters"></div>

<div class="section-label">Segment</div>
<div class="filters" id="segment-filters"></div>

<div class="section-label">Region</div>
<div class="filters" id="region-filters"></div>

<div class="section-label">Type</div>
<div class="filters" id="type-filters"></div>

<div class="section-label">Results</div>
<div class="resource-list" id="resource-list"></div>

<script>
const resources = [
  {
    title: "Template",
    link: "https://microsoft.sharepoint.com/:b:/s/ManagingYourBusiness/EWpg9Ybxu_xDpLWQ7Uo2cIUBQOp2RT16NPSgf3w-JAeQvg?e=YdA4cn",
    role: "AD",
    segments: ["SMB", "MM", "ENT", "LENT", "GCP"],
    regions: ["NAMER", "EMEAL", "APAC"],
    type: "Template"
  },
  {
    title: "Wins",
    link: "https://microsoft.sharepoint.com/:b:/s/ManagingYourBusiness/EbxaaWIXLldMk2kbpDQAzg4B_Bz1Ni4SH-Irx82UilZSTQ?",
    role: "AD",
    segments: ["SMB", "MM"],
    regions: ["NAMER", "EMEAL", "APAC"],
    type: "Wins"
  },
  {
    title: "Template",
    link: "https://linkedin.com",
    role: "AE",
    segments: ["SMB", "ENT"],
    regions: ["NAMER"],
    type: "Template"
  },
  {
    title: "Wins",
    link: "https://linkedin.com",
    role: "AE",
    segments: ["MM", "LENT"],
    regions: ["EMEAL", "APAC"],
    type: "Wins"
  },
  {
    title: "Learnings",
    link: "https://linkedin.com",
    role: "AD",
    segments: ["GCP"],
    regions: ["NAMER"],
    type: "Learnings"
  },
  {
    title: "Learnings",
    link: "https://linkedin.com",
    role: "AE",
    segments: ["SMB", "MM", "ENT"],
    regions: ["NAMER", "EMEAL", "APAC"],
    type: "Learnings"
  },
  {
    title: "Template",
    link: "https://linkedin.com",
    role: "AD",
    segments: ["MM", "ENT"],
    regions: ["EMEAL"],
    type: "Template"
  }
];

const roleFilters = ["AD", "AE"];
const segmentFilters = ["SMB", "MM", "ENT", "LENT", "GCP"];
const regionFilters = ["NAMER", "EMEAL", "APAC"];
const typeFilters = ["Template", "Wins", "Learnings"];

let selectedFilters = {
  role: null,
  segments: [],
  regions: [],
  type: null
};

function createFilterButtons(filterArr, containerId, category) {
  const container = document.getElementById(containerId);
  filterArr.forEach(filter => {
    const btn = document.createElement("button");
    btn.textContent = filter;
    btn.className = "filter-btn";
    btn.onclick = () => {
      if (category === "segments" || category === "regions") {
        selectedFilters[category] = selectedFilters[category].includes(filter)
          ? selectedFilters[category].filter(f => f !== filter)
          : [...selectedFilters[category], filter];
      } else {
        selectedFilters[category] = selectedFilters[category] === filter ? null : filter;
      }
      updateFilterUI();
      renderResources();
    };
    container.appendChild(btn);
  });
}

function updateFilterUI() {
  document.querySelectorAll(".filter-btn").forEach(btn => {
    const category = btn.parentElement.id.replace("-filters", "");
    const value = btn.textContent;
    const isActive = (category === "segments" || category === "regions")
      ? selectedFilters[category].includes(value)
      : selectedFilters[category] === value;
    btn.classList.toggle("active", isActive);
  });
}

function renderResources() {
  const list = document.getElementById("resource-list");
  list.innerHTML = "";

  const filtered = resources.filter(res => {
    const roleMatch = !selectedFilters.role || res.role === selectedFilters.role;
    const segmentMatch = selectedFilters.segments.length === 0 || selectedFilters.segments.some(seg => res.segments.includes(seg));
    const regionMatch = selectedFilters.regions.length === 0 || selectedFilters.regions.some(reg => res.regions.includes(reg));
    const typeMatch = !selectedFilters.type || res.type === selectedFilters.type;
    return roleMatch && segmentMatch && regionMatch && typeMatch;
  });

  if (filtered.length === 0) {
    list.innerHTML = "<p>No matching resources.</p>";
    return;
  }

  filtered.forEach(res => {
    const a = document.createElement("a");
    a.href = res.link;
    a.target = "_blank";
    a.className = "resource-item";
    a.textContent = res.title;
    list.appendChild(a);
  });
}

createFilterButtons(roleFilters, "role-filters", "role");
createFilterButtons(segmentFilters, "segment-filters", "segments");
createFilterButtons(regionFilters, "region-filters", "regions");
createFilterButtons(typeFilters, "type-filters", "type");

renderResources();
</script>

</body>
</html>

